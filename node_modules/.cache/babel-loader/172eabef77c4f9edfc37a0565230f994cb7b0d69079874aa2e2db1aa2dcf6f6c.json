{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Max\\\\Documents\\\\CODER\\\\ReactJS\\\\EcommerceFinal\\\\ecommercefinal\\\\src\\\\components\\\\Cart\\\\Cart.jsx\",\n  _s = $RefreshSig$();\nimport { addDoc, collection, getFirestore } from \"firebase/firestore\";\nimport { useContext, useState, useEffect } from \"react\";\nimport Swal from \"sweetalert2\";\nimport { Context } from \"../../contexts/CartContext/CartContext\";\nimport CartItem from \"./CartItem.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const {\n    cart,\n    clear,\n    total\n  } = useContext(Context);\n  const [id, setId] = useState();\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [form, setForm] = useState({\n    name: \"\",\n    phone: \"\",\n    email: \"\"\n  });\n  const [order, setOrder] = useState({\n    buyer: {\n      name: \"\",\n      phone: \"\",\n      email: \"\"\n    },\n    items: [{}],\n    total: totalPrice\n  });\n  useEffect(() => {\n    setTotalPrice(total());\n  }, [cart]);\n  const changeHandler = e => {\n    const newForm = {\n      ...form,\n      [e.target.name]: e.target.value\n    };\n    setForm(newForm);\n  };\n  const submitOrder = e => {\n    e.preventDefault();\n    const newOrder = {\n      buyer: form,\n      items: cart,\n      total: totalPrice\n    };\n    setOrder(newOrder);\n    const db = getFirestore();\n    const orderCollection = collection(db, \"orders\");\n    addDoc(orderCollection, order).then(({\n      id\n    }) => {\n      setId(id);\n      Swal.fire({\n        position: \"center\",\n        icon: \"success\",\n        title: `Your purchase ID is \\n ${id}`,\n        showConfirmButton: false,\n        timer: 1500\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: cart.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-indigo-700\",\n        children: \"Carrito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Datos del comprador\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"m-5 flex justify-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"m-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"name\",\n              className: \"text-indigo-700 text-xl\",\n              children: \"Nombre:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"name\",\n              type: \"text\",\n              className: \"mx-2 text-xl bg-indigo-200 rounded\",\n              onChange: changeHandler,\n              value: form.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"m-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"phone\",\n              className: \"text-indigo-700 text-xl\",\n              children: \"Tel\\xE9fono:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"phone\",\n              type: \"number\",\n              className: \"mx-2 text-xl bg-indigo-200 rounded\",\n              onChange: changeHandler,\n              value: form.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"m-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"text-indigo-700 text-xl\",\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"email\",\n              type: \"email\",\n              className: \"mx-2 text-xl bg-indigo-200 rounded\",\n              onChange: changeHandler,\n              value: form.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), cart.map(element => /*#__PURE__*/_jsxDEV(CartItem, {\n          item: element\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-indigo-700\",\n          children: [\"Precio Total: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold\",\n            children: [\"$\", totalPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-white  bg-red-400 hover:bg-red-700 text-base rounded-full py-1 px-3 mt-5 m-2\",\n          onClick: clear,\n          children: \"Vaciar Carrito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-white  bg-emerald-400 hover:bg-emerald-700 text-base rounded-full py-1 px-3 mt-5 m-2\",\n          onClick: submitOrder,\n          children: \"Comprar Carrito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"font-bold\",\n      children: \"El carrito est\\xE1 vac\\xEDo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(Cart, \"x9xfpSkvDj5o8gh5qr3+PwyM4h0=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["addDoc","collection","getFirestore","useContext","useState","useEffect","Swal","Context","CartItem","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","cart","clear","total","id","setId","totalPrice","setTotalPrice","form","setForm","name","phone","email","order","setOrder","buyer","items","changeHandler","e","newForm","target","value","submitOrder","preventDefault","newOrder","db","orderCollection","then","fire","position","icon","title","showConfirmButton","timer","children","length","className","fileName","_jsxFileName","lineNumber","columnNumber","action","htmlFor","type","onChange","map","element","item","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Max/Documents/CODER/ReactJS/EcommerceFinal/ecommercefinal/src/components/Cart/Cart.jsx"],"sourcesContent":["import { addDoc, collection, getFirestore } from \"firebase/firestore\";\r\nimport { useContext, useState, useEffect } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Context } from \"../../contexts/CartContext/CartContext\";\r\nimport CartItem from \"./CartItem.jsx\";\r\n\r\nconst Cart = () => {\r\n  const { cart, clear, total } = useContext(Context);\r\n  const [id, setId] = useState();\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n  });\r\n  const [order, setOrder] = useState({\r\n    buyer: { name: \"\", phone: \"\", email: \"\" },\r\n    items: [{}],\r\n    total: totalPrice,\r\n  });\r\n\r\n  useEffect(() => {\r\n    setTotalPrice(total());\r\n  }, [cart]);\r\n\r\n  const changeHandler = (e) => {\r\n    const newForm = { ...form, [e.target.name]: e.target.value };\r\n    setForm(newForm);\r\n  };\r\n\r\n  const submitOrder = (e) => {\r\n    e.preventDefault();\r\n    const newOrder = { buyer: form, items: cart, total: totalPrice };\r\n    setOrder(newOrder);\r\n    const db = getFirestore();\r\n    const orderCollection = collection(db, \"orders\");\r\n    addDoc(orderCollection, order).then(({ id }) => {\r\n      setId(id);\r\n      Swal.fire({\r\n        position: \"center\",\r\n        icon: \"success\",\r\n        title: `Your purchase ID is \\n ${id}`,\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {cart.length > 0 ? (\r\n        <>\r\n          <h1 className=\"text-indigo-700\">Carrito</h1>\r\n          <form action=\"\">\r\n            <h2>Datos del comprador</h2>\r\n            <div className=\"m-5 flex justify-center\">\r\n              <div className=\"m-5\">\r\n                <label htmlFor=\"name\" className=\"text-indigo-700 text-xl\">\r\n                  Nombre:\r\n                </label>\r\n                <input\r\n                  name=\"name\"\r\n                  type=\"text\"\r\n                  className=\"mx-2 text-xl bg-indigo-200 rounded\"\r\n                  onChange={changeHandler}\r\n                  value={form.name}\r\n                />\r\n              </div>\r\n              <div className=\"m-5\">\r\n                <label htmlFor=\"phone\" className=\"text-indigo-700 text-xl\">\r\n                  Teléfono:\r\n                </label>\r\n                <input\r\n                  name=\"phone\"\r\n                  type=\"number\"\r\n                  className=\"mx-2 text-xl bg-indigo-200 rounded\"\r\n                  onChange={changeHandler}\r\n                  value={form.phone}\r\n                />\r\n              </div>\r\n              <div className=\"m-5\">\r\n                <label htmlFor=\"email\" className=\"text-indigo-700 text-xl\">\r\n                  Email:\r\n                </label>\r\n                <input\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  className=\"mx-2 text-xl bg-indigo-200 rounded\"\r\n                  onChange={changeHandler}\r\n                  value={form.email}\r\n                />\r\n              </div>\r\n            </div>\r\n            {cart.map((element) => (\r\n              <CartItem item={element} />\r\n            ))}\r\n            <h2 className=\"text-indigo-700\">\r\n              Precio Total: <span className=\"font-bold\">${totalPrice}</span>\r\n            </h2>\r\n            <button\r\n              className=\"text-white  bg-red-400 hover:bg-red-700 text-base rounded-full py-1 px-3 mt-5 m-2\"\r\n              onClick={clear}\r\n            >\r\n              Vaciar Carrito\r\n            </button>\r\n\r\n            <button\r\n              className=\"text-white  bg-emerald-400 hover:bg-emerald-700 text-base rounded-full py-1 px-3 mt-5 m-2\"\r\n              onClick={submitOrder}\r\n            >\r\n              Comprar Carrito\r\n            </button>\r\n          </form>\r\n        </>\r\n      ) : (\r\n        <h2 className=\"font-bold\">El carrito está vacío</h2>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}